define host {
    use generic-host
    check_command check-host-alive
    max_check_attempts 5
    notification_interval 30
    host_name {{ host.fqdn }}
    alias {{ host.fqdn }}
    address {{ host.address }}
}

{# Base service checks -#}
{% if 'base' in host.puppet_classes -%}
{% include "classes/base.cfg" %}
{% endif -%}

{# IRC Echo service checks -#}
{% if 'misc::ircecho' in host.puppet_classes -%}
{% include "classes/misc/ircecho.cfg" %}
{% endif -%}

{# Lucene service checks -#}
{% if 'role::lucene::front_end::poolbeta' in host.puppet_classes -%}
{% include "classes/role/lucene/front-end.cfg" %}
{% endif -%}

{% if 'role::lucene::front-end' in host.puppet_classes -%}
{% include "classes/role/lucene/front-end.cfg" %}
{% endif -%}
